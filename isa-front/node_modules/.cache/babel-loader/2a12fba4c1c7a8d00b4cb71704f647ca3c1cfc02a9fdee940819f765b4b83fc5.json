{"ast":null,"code":"import http from \"./httpService\";\nimport apiUrl from '../config.json';\nimport jwtDecode from \"jwt-decode\";\nhttp.setJwt(getJwt());\nexport function registerRegularUser(user) {\n  return http.post(apiUrl + \"/Auth/register/regular\", {\n    email: user.email,\n    password: user.password,\n    role: \"RegUser\",\n    repeatedPassword: user.repeatedPassword,\n    name: user.name,\n    lastName: user.lastName,\n    gender: user.gender,\n    residenceAddress: user.residenceAddress,\n    city: user.city,\n    country: user.country,\n    phoneNumber: user.phoneNumber,\n    jmbg: user.jmbg,\n    profession: user.profession,\n    workLocation: user.workLocation\n  });\n}\nexport async function login(email, password) {\n  const {\n    data: jwt\n  } = await http.post(\"https://localhost:7293/api/Auth/login\", {\n    email,\n    password\n  });\n  localStorage.setItem(\"token\", jwt);\n}\nexport function loginWithJwt(jwt) {\n  localStorage.setItem(\"token\", jwt);\n}\nexport function logout() {\n  localStorage.removeItem(\"token\");\n}\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(\"token\");\n    return jwtDecode(jwt);\n  } catch (ex) {\n    return null;\n  }\n}\nexport function getJwt() {\n  return localStorage.getItem(\"token\");\n}\nexport default {\n  login,\n  logout,\n  getCurrentUser,\n  loginWithJwt,\n  getJwt\n};","map":{"version":3,"names":["http","apiUrl","jwtDecode","setJwt","getJwt","registerRegularUser","user","post","email","password","role","repeatedPassword","name","lastName","gender","residenceAddress","city","country","phoneNumber","jmbg","profession","workLocation","login","data","jwt","localStorage","setItem","loginWithJwt","logout","removeItem","getCurrentUser","getItem","ex"],"sources":["C:/Users/Dejan/isa-front/src/services/authService.js"],"sourcesContent":["import http from \"./httpService\";\r\nimport apiUrl from '../config.json'\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nhttp.setJwt(getJwt()); \r\n\r\nexport function registerRegularUser(user){\r\n    return http.post(apiUrl + \"/Auth/register/regular\", {\r\n        email: user.email,\r\n        password: user.password,\r\n        role: \"RegUser\",\r\n        repeatedPassword: user.repeatedPassword,\r\n        name: user.name,\r\n        lastName: user.lastName,\r\n        gender: user.gender,\r\n        residenceAddress: user.residenceAddress,\r\n        city: user.city,\r\n        country: user.country,\r\n        phoneNumber: user.phoneNumber,\r\n        jmbg: user.jmbg,\r\n        profession: user.profession,\r\n        workLocation: user.workLocation,\r\n    });\r\n}\r\n\r\nexport async function login(email, password){\r\n    const {data: jwt} = await http.post(\"https://localhost:7293/api/Auth/login\",{ email, password});\r\n    localStorage.setItem(\"token\", jwt);\r\n}\r\n\r\nexport function loginWithJwt(jwt){\r\n    localStorage.setItem(\"token\", jwt);\r\n}\r\n\r\nexport function logout(){\r\n    localStorage.removeItem(\"token\");\r\n}\r\n\r\nexport function getCurrentUser(){\r\n    try{\r\n        const jwt = localStorage.getItem(\"token\");\r\n        return jwtDecode(jwt);\r\n      }\r\n        catch(ex){\r\n            return null;\r\n        }\r\n}\r\n\r\nexport function getJwt(){\r\n    return localStorage.getItem(\"token\");\r\n}\r\n\r\nexport default{\r\n    login,\r\n    logout,\r\n    getCurrentUser,\r\n    loginWithJwt,\r\n    getJwt\r\n};"],"mappings":"AAAA,OAAOA,IAAI,MAAM,eAAe;AAChC,OAAOC,MAAM,MAAM,gBAAgB;AACnC,OAAOC,SAAS,MAAM,YAAY;AAElCF,IAAI,CAACG,MAAM,CAACC,MAAM,EAAE,CAAC;AAErB,OAAO,SAASC,mBAAmB,CAACC,IAAI,EAAC;EACrC,OAAON,IAAI,CAACO,IAAI,CAACN,MAAM,GAAG,wBAAwB,EAAE;IAChDO,KAAK,EAAEF,IAAI,CAACE,KAAK;IACjBC,QAAQ,EAAEH,IAAI,CAACG,QAAQ;IACvBC,IAAI,EAAE,SAAS;IACfC,gBAAgB,EAAEL,IAAI,CAACK,gBAAgB;IACvCC,IAAI,EAAEN,IAAI,CAACM,IAAI;IACfC,QAAQ,EAAEP,IAAI,CAACO,QAAQ;IACvBC,MAAM,EAAER,IAAI,CAACQ,MAAM;IACnBC,gBAAgB,EAAET,IAAI,CAACS,gBAAgB;IACvCC,IAAI,EAAEV,IAAI,CAACU,IAAI;IACfC,OAAO,EAAEX,IAAI,CAACW,OAAO;IACrBC,WAAW,EAAEZ,IAAI,CAACY,WAAW;IAC7BC,IAAI,EAAEb,IAAI,CAACa,IAAI;IACfC,UAAU,EAAEd,IAAI,CAACc,UAAU;IAC3BC,YAAY,EAAEf,IAAI,CAACe;EACvB,CAAC,CAAC;AACN;AAEA,OAAO,eAAeC,KAAK,CAACd,KAAK,EAAEC,QAAQ,EAAC;EACxC,MAAM;IAACc,IAAI,EAAEC;EAAG,CAAC,GAAG,MAAMxB,IAAI,CAACO,IAAI,CAAC,uCAAuC,EAAC;IAAEC,KAAK;IAAEC;EAAQ,CAAC,CAAC;EAC/FgB,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,GAAG,CAAC;AACtC;AAEA,OAAO,SAASG,YAAY,CAACH,GAAG,EAAC;EAC7BC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,GAAG,CAAC;AACtC;AAEA,OAAO,SAASI,MAAM,GAAE;EACpBH,YAAY,CAACI,UAAU,CAAC,OAAO,CAAC;AACpC;AAEA,OAAO,SAASC,cAAc,GAAE;EAC5B,IAAG;IACC,MAAMN,GAAG,GAAGC,YAAY,CAACM,OAAO,CAAC,OAAO,CAAC;IACzC,OAAO7B,SAAS,CAACsB,GAAG,CAAC;EACvB,CAAC,CACC,OAAMQ,EAAE,EAAC;IACL,OAAO,IAAI;EACf;AACR;AAEA,OAAO,SAAS5B,MAAM,GAAE;EACpB,OAAOqB,YAAY,CAACM,OAAO,CAAC,OAAO,CAAC;AACxC;AAEA,eAAc;EACVT,KAAK;EACLM,MAAM;EACNE,cAAc;EACdH,YAAY;EACZvB;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}