{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dejan\\\\isa-front\\\\src\\\\components\\\\visits.jsx\";\nimport React, { Component } from \"react\";\nimport VisitsTable from \"./visitsTable\";\nimport { getVisits } from \"../fakeVisits\";\nimport Pagination from \"./common/pagination\";\nimport SearchBox from \"./common/searchBox\";\nimport _ from \"lodash\";\nimport { paginate } from \"../paginate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Visits extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      visits: [],\n      currentPage: 1,\n      pageSize: 4,\n      searchQuery: \"\",\n      sortColumn: {\n        path: \"name\",\n        order: \"asc\"\n      }\n    };\n    this.handleSort = sortColumn => {\n      this.setState({\n        sortColumn\n      });\n    };\n    this.handlePageChange = page => {\n      this.setState({\n        currentPage: page\n      });\n    };\n    this.handleSearch = query => {\n      this.setState({\n        searchQuery: query,\n        currentPage: 1\n      });\n    };\n    this.getPagedData = () => {\n      const {\n        pageSize,\n        currentPage,\n        sortColumn,\n        searchQuery,\n        visits: allVisits\n      } = this.state;\n      let filtered = allVisits;\n      if (searchQuery) filtered = allVisits.filter(c => c.name.toLowerCase().startsWith(searchQuery.toLowerCase()));\n      const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n      const visits = paginate(sorted, currentPage, pageSize);\n      return {\n        totalCount: filtered.length,\n        data: visits\n      };\n    };\n  }\n  componentDidMount() {\n    this.setState({\n      visits: getVisits()\n    });\n  }\n  render() {\n    const {\n      length: count\n    } = this.state.visits;\n    const {\n      pageSize,\n      currentPage,\n      sortColumn,\n      searchQuery\n    } = this.state;\n    if (count === 0) return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"There are no visits in the database.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }, this);\n    const {\n      totalCount,\n      data: visits\n    } = this.getPagedData();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Showing \", totalCount, \" visits that are in your history.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SearchBox, {\n          value: searchQuery,\n          onChange: this.handleSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(VisitsTable, {\n          visits: visits,\n          sortColumn: sortColumn,\n          onSort: this.handleSort\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n          itemsCount: totalCount,\n          pageSize: pageSize,\n          currentPage: currentPage,\n          onPageChange: this.handlePageChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Visits;","map":{"version":3,"names":["React","Component","VisitsTable","getVisits","Pagination","SearchBox","_","paginate","Visits","state","visits","currentPage","pageSize","searchQuery","sortColumn","path","order","handleSort","setState","handlePageChange","page","handleSearch","query","getPagedData","allVisits","filtered","filter","c","name","toLowerCase","startsWith","sorted","orderBy","totalCount","length","data","componentDidMount","render","count"],"sources":["C:/Users/Dejan/isa-front/src/components/visits.jsx"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport VisitsTable from \"./visitsTable\";\r\nimport { getVisits } from \"../fakeVisits\";\r\nimport Pagination from \"./common/pagination\";\r\nimport SearchBox from \"./common/searchBox\";\r\nimport _ from \"lodash\";\r\nimport { paginate } from \"../paginate\";\r\n\r\nclass Visits extends Component {\r\n  state = {\r\n    visits: [],\r\n    currentPage: 1,\r\n    pageSize: 4,\r\n    searchQuery: \"\",\r\n    sortColumn: { path: \"name\", order: \"asc\" },\r\n  };\r\n  componentDidMount() {\r\n    this.setState({ visits: getVisits() });\r\n  }\r\n  handleSort = (sortColumn) => {\r\n    this.setState({ sortColumn });\r\n  };\r\n  handlePageChange = (page) => {\r\n    this.setState({ currentPage: page });\r\n  };\r\n  handleSearch = (query) => {\r\n    this.setState({ searchQuery: query, currentPage: 1 });\r\n  };\r\n  getPagedData = () => {\r\n    const {\r\n      pageSize,\r\n      currentPage,\r\n      sortColumn,\r\n      searchQuery,\r\n      visits: allVisits,\r\n    } = this.state;\r\n\r\n    let filtered = allVisits;\r\n    if (searchQuery)\r\n      filtered = allVisits.filter((c) =>\r\n        c.name.toLowerCase().startsWith(searchQuery.toLowerCase())\r\n      );\r\n\r\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\r\n    const visits = paginate(sorted, currentPage, pageSize);\r\n\r\n    return { totalCount: filtered.length, data: visits };\r\n  };\r\n\r\n  render() {\r\n    const { length: count } = this.state.visits;\r\n    const { pageSize, currentPage, sortColumn, searchQuery } = this.state;\r\n    if (count === 0) return <p>There are no visits in the database.</p>;\r\n\r\n    const { totalCount, data: visits } = this.getPagedData();\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <p>Showing {totalCount} visits that are in your history.</p>\r\n          <SearchBox value={searchQuery} onChange={this.handleSearch} />\r\n          <VisitsTable\r\n            visits={visits}\r\n            sortColumn={sortColumn}\r\n            onSort={this.handleSort}\r\n          />\r\n          <Pagination\r\n            itemsCount={totalCount}\r\n            pageSize={pageSize}\r\n            currentPage={currentPage}\r\n            onPageChange={this.handlePageChange}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Visits;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}